{"version":3,"sources":["reducers/audio.js","reducers/app.js","reducers/index.js","actions/types.js","Root.js","components/RecordItem.js","components/RecordList.js","actions/index.js","containers/RecordListContainer.js","components/App.js","containers/AppContainer.js","components/AlertDeletionDialog.js","containers/AlertDeletionDialogContainer.js","components/AppBar.js","containers/AppBarContainer.js","components/Encoder.js","components/MicRecorder.js","components/AudioRecorderButton.js","containers/AudioRecorderContainer.js","index.js","components/BottomNav.js"],"names":["formatTime","seconds","h","Math","floor","m","s","filter","a","join","formatByteUnit","bytes","val","Number","parseFloat","toFixed","audioInitialState","recording","records","permissionDenied","maxRecorded","appInitialState","alertDeletion","zip","combineReducers","audio","state","action","type","date","Date","title","duration","size","payload","blob","dateTime","toDateString","toLocaleTimeString","url","URL","createObjectURL","produce","draft","index","saveAs","record","splice","app","DOWNLOAD_ALL","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","audioApp","applyMiddleware","promise","darkTheme","createMuiTheme","palette","primary","main","Root","ThemeProvider","theme","id","this","props","children","React","Component","RecordItem","createRef","show","setState","classes","Slide","direction","in","unmountOnExit","Paper","elevation","className","Grid","container","spacing","item","xs","TextField","InputProps","input","onChange","event","onChangeTitle","target","value","ref","src","controls","onLoadedMetadata","durationDetermined","current","IconButton","root","onClick","onDownloadButtonClicked","aria-label","onDeleteButtonClicked","withStyles","color","fontSize","RecordList","length","map","key","Divider","Typography","variant","JSZip","connect","dispatch","changeTitle","audioDurationDetermined","downloadSingle","deleteSingle","App","RecordListContainer","Backdrop","backdrop","open","zipping","CircularProgress","zIndex","drawer","blobs","AlertDeletionDialog","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","deleteAll","autoFocus","MyAppBar","setAnchorEl","anchorEl","currentTarget","close","aboutClicked","aboutOpen","download","AppBar","position","Toolbar","hasRecords","Tooltip","edge","Menu","keepMounted","Boolean","MenuItem","dividers","gutterBottom","AlertDeletionDialogContainer","flexGrow","backgroundColor","menuButton","marginRight","forEach","file","generateAsync","downloadAll","Encoder","config","sampleRate","bitRate","Object","assign","mp3Encoder","Mp3Encoder","maxSamples","samplesMono","clearBuffer","dataBuffer","buffer","push","Int8Array","output","i","max","min","arrayBuffer","data","Float32Array","out","Int16Array","floatTo16BitPCM","convertBuffer","remaining","left","subarray","mp3buffer","encodeBuffer","appendToBuffer","flush","MicRecorder","startRecordingAt","deviceId","activeStream","context","microphone","processor","startTime","stream","timerToStart","setTimeout","createMediaStreamSource","createScriptProcessor","onaudioprocess","lameEncoder","encode","inputBuffer","getChannelData","destination","disconnect","getAudioTracks","track","stop","AudioContext","webkitAudioContext","mozAudioContext","exact","Promise","resolve","reject","navigator","mediaDevices","getUserMedia","then","addMicrophoneListener","catch","err","finalBuffer","finish","Error","Blob","Mp3Recorder","AudioRecorderButton","start","e","console","error","getMp3","finishRecording","log","onRecordMouseDown","changeRecordState","onRecordMouseUp","webkitURL","recordingDenied","onMouseDown","onMouseUp","width","height","padding","minWidth","borderRadius","disableButton","AudioRecorder","ReactDOM","render","AppBarContainer","Container","maxWidth","disableGutters","AppContainer","AudioRecorderContainer","document","getElementById"],"mappings":"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","file":"static/js/main.2f8da285.chunk.js","sourcesContent":["import {\n  CHANGE_RECORD_STATE,\n  RECORDING_DENIED,\n  FINISH_RECORDING,\n  CHANGE_TITLE,\n  DURATION_DETERMINED,\n  DELETE_ALL,\n  DOWNLOAD_SINGLE_RECORDING,\n  DELETE_SINGLE_RECORDING,\n} from '../actions/types';\nimport produce from 'immer';\nimport { saveAs } from 'file-saver';\n\nconst formatTime = (seconds) => {\n  const h = Math.floor(seconds / 3600);\n  const m = Math.floor((seconds % 3600) / 60);\n  const s = Math.floor(seconds) % 60;\n  return [h, m > 9 ? m : h ? '0' + m : m || '0', s > 9 ? s : '0' + s]\n    .filter((a) => a)\n    .join(':');\n};\n\nconst formatByteUnit = (bytes) => {\n  const val = Number.parseFloat(bytes / 1024 / 1024).toFixed(2);\n  if (val === '0.00') {\n    return bytes + ' Bytes';\n  } else {\n    return val + ' MB';\n  }\n};\n\nexport const audioInitialState = {\n  recording: false,\n  records: [],\n  permissionDenied: false,\n  maxRecorded: 0,\n};\n\nexport default (state = audioInitialState, action) => {\n  switch (action.type) {\n    case CHANGE_RECORD_STATE:\n      return {\n        ...state,\n        recording: !state.recording,\n      };\n    case RECORDING_DENIED:\n      return {\n        ...state,\n        permissionDenied: true,\n      };\n    case FINISH_RECORDING:\n      const date = new Date();\n      return {\n        ...state,\n        records: [\n          ...state.records,\n          {\n            title: 'Untitled #' + (state.maxRecorded + 1),\n            duration: '',\n            size: formatByteUnit(action.payload.blob.size),\n            dateTime: date.toDateString() + ', ' + date.toLocaleTimeString(),\n            url: URL.createObjectURL(action.payload.blob),\n            blob: action.payload.blob,\n          },\n        ],\n        maxRecorded: state.maxRecorded + 1,\n      };\n    case CHANGE_TITLE:\n      return produce(state, (draft) => {\n        draft.records[action.payload.index].title = action.payload.title;\n      });\n    case DURATION_DETERMINED:\n      return produce(state, (draft) => {\n        draft.records[action.payload.index].duration = formatTime(\n          action.payload.duration\n        );\n      });\n    case DELETE_ALL:\n      return produce(state, (draft) => {\n        draft.records = [];\n      });\n    case DOWNLOAD_SINGLE_RECORDING:\n      saveAs(action.payload.record.blob, action.payload.record.title + '.mp3');\n      return state;\n    case DELETE_SINGLE_RECORDING:\n      return produce(state, (draft) => {\n        draft.records.splice(action.payload.index, 1);\n      });\n    default:\n      return state;\n  }\n};\n","import { DOWNLOAD_ALL, ALERT_DELETION, DELETE_ALL } from '../actions/types';\nimport produce from 'immer';\nimport { saveAs } from 'file-saver';\nconst NONE = 'NONE';\nexport const ZIPPING = 'ZIPPING';\n\nexport const appInitialState = {\n  alertDeletion: false,\n  zip: NONE,\n};\n\nexport default (state = appInitialState, action) => {\n  switch (action.type) {\n    case ALERT_DELETION:\n      return produce(state, (draft) => {\n        draft.alertDeletion = action.payload.alertDeletion;\n      });\n    case DELETE_ALL:\n      return produce(state, (draft) => {\n        draft.alertDeletion = false;\n      });\n    case DOWNLOAD_ALL + '_PENDING':\n      return produce(state, (draft) => {\n        draft.zip = ZIPPING;\n      });\n    case DOWNLOAD_ALL + '_FULFILLED':\n      saveAs(action.payload, 'audios.zip');\n      return produce(state, (draft) => {\n        draft.zip = NONE;\n      });\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport audio from './audio';\nimport app from './app';\n\nexport default combineReducers({\n  audio,\n  app,\n});\n","export const CHANGE_RECORD_STATE = 'CHANGE_RECORD_STATE';\nexport const RECORDING_DENIED = 'RECORDING_DENIED';\nexport const FINISH_RECORDING = 'FINISH_RECORDING';\nexport const DOWNLOAD_ALL = 'DOWNLOAD_ALL';\nexport const ALERT_DELETION = 'ALERT_DELETION';\nexport const DELETE_ALL = 'DELETE_ALL';\nexport const CHANGE_TITLE = 'CHANGE_TITLE';\nexport const DOWNLOAD_SINGLE_RECORDING = 'DOWNLOAD_SINGLE_RECORDING';\nexport const DELETE_SINGLE_RECORDING = 'DELETE_SINGLE_RECORDING';\nexport const DURATION_DETERMINED = 'DURATION_DETERMINED';\n","import React from 'react';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport audioApp from './reducers';\nimport { Provider } from 'react-redux';\nimport promise from 'redux-promise-middleware';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { audioInitialState } from './reducers/audio';\nimport { appInitialState } from './reducers/app';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  audioApp,\n  {\n    audio: audioInitialState,\n    app: appInitialState,\n  },\n  composeEnhancers(applyMiddleware(promise))\n);\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#90caf9',\n    },\n  },\n});\n\nexport default class Root extends React.Component {\n  render() {\n    return (\n      <ThemeProvider theme={darkTheme}>\n        <div id='container'>\n          <Provider store={store}>{this.props.children}</Provider>\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudDownloadRoundedIcon from '@material-ui/icons/CloudDownloadRounded';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Paper from '@material-ui/core/Paper';\nimport Slide from '@material-ui/core/Slide';\nconst styles = {\n  input: {\n    color: '#0096ef',\n    fontSize: '18px',\n  },\n};\n\nclass RecordItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.audio = React.createRef();\n    this.state = {\n      show: true,\n    };\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      show: false,\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const props = this.props;\n    return (\n      <Slide direction='right' in={this.state.show} unmountOnExit>\n        <Paper elevation={4}>\n          <div className='recordItem'>\n            <Grid container spacing={3}>\n              <Grid item xs={2}>\n                <div className='title'>\n                  <TextField\n                    InputProps={{\n                      className: classes.input,\n                    }}\n                    onChange={(event) =>\n                      props.onChangeTitle(event.target.value)\n                    }\n                    value={props.title}\n                  />\n                </div>\n                <div className='dateTime'>{props.dateTime}</div>\n              </Grid>\n\n              <Grid item xs={6}>\n                <div className='audioPlayerContainer'>\n                  <audio\n                    ref={this.audio}\n                    src={props.url}\n                    controls='controls'\n                    onLoadedMetadata={() => {\n                      props.durationDetermined(this.audio.current.duration);\n                    }}\n                  />\n                </div>\n              </Grid>\n              <Grid item xs={1}>\n                <div className='metadataContainer'>\n                  <div className='duration'>{props.duration}</div>\n                  <div className='size'>{props.size}</div>\n                </div>\n              </Grid>\n              <Grid item xs={3}>\n                <div id='downloadButtonContainer'>\n                  <IconButton\n                    size='medium'\n                    classes={classes.root}\n                    onClick={this.props.onDownloadButtonClicked}>\n                    <CloudDownloadRoundedIcon />\n                  </IconButton>\n                  <IconButton\n                    aria-label='delete'\n                    classes={classes.root}\n                    onClick={this.props.onDeleteButtonClicked}>\n                    <DeleteIcon />\n                  </IconButton>\n                </div>\n              </Grid>\n            </Grid>\n          </div>\n        </Paper>\n      </Slide>\n    );\n  }\n}\n\nexport default withStyles(styles)(RecordItem);\n","import React from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport RecordItem from '../components/RecordItem';\nimport Typography from '@material-ui/core/Typography';\n\nexport default class RecordList extends React.Component {\n  render() {\n    if (this.props.records.length !== 0) {\n      return (\n        <div>\n          <ul>\n            {this.props.records.map((item, index) => (\n              <div key={index}>\n                <li key={index}>\n                  <RecordItem\n                    key={index}\n                    title={item.title}\n                    dateTime={item.dateTime}\n                    duration={item.duration}\n                    size={item.size}\n                    url={item.url}\n                    onChangeTitle={(title) =>\n                      this.props.onChangeTitle(title, index)\n                    }\n                    durationDetermined={(duration) =>\n                      this.props.duration(duration, index)\n                    }\n                    onDownloadButtonClicked={() =>\n                      this.props.onDownloadButtonClicked(\n                        this.props.records[index]\n                      )\n                    }\n                    onDeleteButtonClicked={() =>\n                      this.props.onDeleteButtonClicked(index)\n                    }\n                  />\n                </li>\n                <Divider />\n              </div>\n            ))}\n          </ul>\n          <div id='placeHolderItem' />\n        </div>\n      );\n    } else {\n      return (\n        <div id='recordListInfoText'>\n          <Typography variant='h4'>\n            You don't have any recordings yet. Press and hold the audio button\n            on the bottom to start.\n          </Typography>\n        </div>\n      );\n    }\n  }\n}\n","import {\n  CHANGE_RECORD_STATE,\n  RECORDING_DENIED,\n  FINISH_RECORDING,\n  CHANGE_TITLE,\n  DURATION_DETERMINED,\n  DOWNLOAD_ALL,\n  DELETE_ALL,\n  ALERT_DELETION,\n  DELETE_SINGLE_RECORDING,\n  DOWNLOAD_SINGLE_RECORDING,\n} from './types';\nimport JSZip from 'jszip';\n\nconst zip = new JSZip();\nexport const changeRecordState = () => ({\n  type: CHANGE_RECORD_STATE,\n});\n\nexport const recordingDenied = () => ({\n  type: RECORDING_DENIED,\n});\n\nexport const finishRecording = (blob) => ({\n  type: FINISH_RECORDING,\n  payload: {\n    blob,\n  },\n});\n\nexport const changeTitle = (title, index) => ({\n  type: CHANGE_TITLE,\n  payload: {\n    title,\n    index,\n  },\n});\n\nexport const audioDurationDetermined = (duration, index) => ({\n  type: DURATION_DETERMINED,\n  payload: {\n    duration,\n    index,\n  },\n});\n\nexport const downloadAll = (records) => {\n  records.forEach((record) => zip.file(record.title + '.mp3', record.blob));\n  return {\n    type: DOWNLOAD_ALL,\n    payload: zip.generateAsync({ type: 'blob' }),\n  };\n};\n\nexport const deleteAll = () => ({\n  type: DELETE_ALL,\n});\n\nexport const alertDeletion = (alertDeletion) => ({\n  type: ALERT_DELETION,\n  payload: {\n    alertDeletion,\n  },\n});\n\nexport const downloadSingle = (record) => ({\n  type: DOWNLOAD_SINGLE_RECORDING,\n  payload: {\n    record\n  },\n});\n\nexport const deleteSingle = (index) => ({\n  type: DELETE_SINGLE_RECORDING,\n  payload: {\n    index,\n  },\n});\n","import { connect } from 'react-redux';\nimport RecordList from '../components/RecordList';\nimport {\n  changeTitle,\n  audioDurationDetermined,\n  downloadSingle,\n  deleteSingle,\n} from '../actions';\nconst mapStateToProps = (state) => ({\n  records: state.audio.records,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onChangeTitle: (title, index) => dispatch(changeTitle(title, index)),\n  duration: (duration, index) =>\n    dispatch(audioDurationDetermined(duration, index)),\n  onDownloadButtonClicked: (record) => dispatch(downloadSingle(record)),\n  onDeleteButtonClicked: (index) => dispatch(deleteSingle(index)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RecordList);\n","import React from 'react';\nimport RecordListContainer from '../containers/RecordListContainer';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = (theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n});\n\nclass App extends React.Component {\n  render() {\n    const { classes } = this.props;\n    return (\n      <div id='mainContent'>\n        <RecordListContainer />\n        <Backdrop className={classes.backdrop} open={this.props.zipping}>\n          <CircularProgress color='inherit' />\n        </Backdrop>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);\n","import { connect } from 'react-redux';\nimport App from '../components/App';\nimport { ZIPPING } from '../reducers/app';\n\nconst mapStateToProps = (state) => {\n  return {\n    blobs: state.audio.blobs,\n    zipping: state.app.zip === ZIPPING\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default class AlertDeletionDialog extends React.Component {\n  render() {\n    return (\n      <div>\n        <Dialog\n          open={this.props.open}\n          onClose={this.props.onClose}\n          aria-labelledby='alert-dialog-title'\n          aria-describedby='alert-dialog-description'>\n          <DialogTitle id='alert-dialog-title'>\n            {'Delete all your recordings?'}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id='alert-dialog-description'>\n              Are you sure you want to delete all your recordings?\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.props.onClose} color='primary'>\n              Cancel\n            </Button>\n            <Button onClick={this.props.deleteAll} color='primary' autoFocus>\n              Delete all\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n","import { connect } from 'react-redux';\nimport AlertDeletionDialog from '../components/AlertDeletionDialog';\nimport { alertDeletion, deleteAll } from '../actions';\n\nconst mapStateToProps = (state) => ({\n  open: state.app.alertDeletion,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onClose: () => dispatch(alertDeletion(false)),\n  deleteAll: () => dispatch(deleteAll()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AlertDeletionDialog);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport AlertDeletionDialogContainer from '../containers/AlertDeletionDialogContainer';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nconst styles = (theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: '#424242',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    color: 'white',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n});\n\nclass MyAppBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null,\n      download: false,\n    };\n  }\n\n  setAnchorEl = (event) => {\n    this.setState({\n      anchorEl: event.currentTarget,\n    });\n  };\n\n  close = () => {\n    this.setState({\n      anchorEl: null,\n    });\n  };\n\n  aboutClicked = () => {\n    this.setState((state) => {\n      return { ...state, aboutOpen: !state.aboutOpen };\n    });\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <AppBar position='static' className={classes.root}>\n          <Toolbar>\n            <Typography variant='h6' className={classes.title}>\n              {this.props.records.length !== 0\n                ? this.props.records.length + ' recodings'\n                : 'Recordios'}\n            </Typography>\n            {this.props.hasRecords && (\n              <div>\n                <Tooltip title='Download all as .zip'>\n                  <IconButton\n                    size='medium'\n                    onClick={() => {\n                      this.setState((state) => {\n                        return {\n                          ...state,\n                          download: true,\n                        };\n                      });\n                      this.props.onDownloadButtonClicked(this.props.records);\n                    }}>\n                    <GetAppIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title='Delete all'>\n                  <IconButton\n                    size='medium'\n                    onClick={this.props.onDeleteButtonClicked}>\n                    <DeleteForeverIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            )}\n            <IconButton\n              aria-label='display more actions'\n              edge='end'\n              onClick={this.setAnchorEl}>\n              <MoreIcon />\n            </IconButton>\n            <Menu\n              id='simple-menu'\n              anchorEl={this.state.anchorEl}\n              keepMounted\n              open={Boolean(this.state.anchorEl)}\n              onClose={this.close}>\n              <MenuItem onClick={this.aboutClicked}>About</MenuItem>\n            </Menu>\n            <Dialog\n              onClose={this.aboutClicked}\n              aria-labelledby='customized-dialog-title'\n              open={this.state.aboutOpen}>\n              <DialogTitle\n                id='customized-dialog-title'\n                onClose={this.aboutClicked}>\n                Recordios v1.0\n              </DialogTitle>\n              <DialogContent dividers>\n                <Typography gutterBottom>\n                  Recordios is made possible by @renchen. If you have any\n                  suggestions or want to contribute, please PM me @renchen.\n                </Typography>\n              </DialogContent>\n            </Dialog>\n          </Toolbar>\n        </AppBar>\n        <AlertDeletionDialogContainer />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(MyAppBar);\n","import { connect } from 'react-redux';\nimport AppBar from '../components/AppBar';\nimport { downloadAll, alertDeletion } from '../actions';\n\nconst mapStateToProps = (state) => ({\n  hasRecords: state.audio.records.length !== 0,\n  records: state.audio.records,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onDownloadButtonClicked: (records) => dispatch(downloadAll(records)),\n  onDeleteButtonClicked: () => dispatch(alertDeletion(true)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppBar);\n","import { Mp3Encoder } from 'lamejs';\n\nclass Encoder {\n  constructor(config) {\n    this.config = {\n      sampleRate: 44100,\n      bitRate: 128,\n    };\n\n    Object.assign(this.config, config);\n\n    this.mp3Encoder = new Mp3Encoder(\n      1,\n      this.config.sampleRate,\n      this.config.bitRate\n    );\n\n    // Audio is processed by frames of 1152 samples per audio channel\n    // http://lame.sourceforge.net/tech-FAQ.txt\n    this.maxSamples = 1152;\n\n    this.samplesMono = null;\n    this.clearBuffer();\n  }\n\n  /**\n   * Clear active buffer\n   */\n  clearBuffer() {\n    this.dataBuffer = [];\n  }\n\n  /**\n   * Append new audio buffer to current active buffer\n   * @param {Buffer} buffer\n   */\n  appendToBuffer(buffer) {\n    this.dataBuffer.push(new Int8Array(buffer));\n  }\n\n  /**\n   * Float current data to 16 bits PCM\n   * @param {Float32Array} input\n   * @param {Int16Array} output\n   */\n  floatTo16BitPCM(input, output) {\n    for (let i = 0; i < input.length; i++) {\n      const s = Math.max(-1, Math.min(1, input[i]));\n      output[i] = s < 0 ? s * 0x8000 : s * 0x7fff;\n    }\n  }\n\n  /**\n   * Convert buffer to proper format\n   * @param {Array} arrayBuffer\n   */\n  convertBuffer(arrayBuffer) {\n    const data = new Float32Array(arrayBuffer);\n    const out = new Int16Array(arrayBuffer.length);\n    this.floatTo16BitPCM(data, out);\n\n    return out;\n  }\n\n  /**\n   * Encode and append current buffer to dataBuffer\n   * @param {Array} arrayBuffer\n   */\n  encode(arrayBuffer) {\n    this.samplesMono = this.convertBuffer(arrayBuffer);\n    let remaining = this.samplesMono.length;\n\n    for (let i = 0; remaining >= 0; i += this.maxSamples) {\n      const left = this.samplesMono.subarray(i, i + this.maxSamples);\n      const mp3buffer = this.mp3Encoder.encodeBuffer(left);\n      this.appendToBuffer(mp3buffer);\n      remaining -= this.maxSamples;\n    }\n  }\n\n  /**\n   * Return full dataBuffer\n   */\n  finish() {\n    this.appendToBuffer(this.mp3Encoder.flush());\n\n    return this.dataBuffer;\n  }\n}\n\nexport default Encoder;\n","import Encoder from './Encoder';\n\nclass MicRecorder {\n  constructor(config) {\n    this.config = {\n      // 128 or 160 kbit/s – mid-range bitrate quality\n      bitRate: 128,\n\n      // There is a known issue with some macOS machines, where the recording\n      // will sometimes have a loud 'pop' or 'pop-click' sound. This flag\n      // prevents getting audio from the microphone a few milliseconds after\n      // the begining of the recording. It also helps to remove the mouse\n      // \"click\" sound from the output mp3 file.\n      startRecordingAt: 1,\n      deviceId: null,\n    };\n\n    this.activeStream = null;\n    this.context = null;\n    this.microphone = null;\n    this.processor = null;\n    this.startTime = 0;\n\n    Object.assign(this.config, config);\n  }\n\n  /**\n   * Starts to listen for the microphone sound\n   * @param {MediaStream} stream\n   */\n  addMicrophoneListener(stream) {\n    this.activeStream = stream;\n\n    // This prevents the weird noise once you start listening to the microphone\n    this.timerToStart = setTimeout(() => {\n      delete this.timerToStart;\n    }, this.config.startRecordingAt);\n\n    // Set up Web Audio API to process data from the media stream (microphone).\n    this.microphone = this.context.createMediaStreamSource(stream);\n\n    // Settings a bufferSize of 0 instructs the browser to choose the best bufferSize\n    this.processor = this.context.createScriptProcessor(0, 1, 1);\n\n    // Add all buffers from LAME into an array.\n    this.processor.onaudioprocess = (event) => {\n      if (this.timerToStart) {\n        return;\n      }\n\n      // Send microphone data to LAME for MP3 encoding while recording.\n      this.lameEncoder.encode(event.inputBuffer.getChannelData(0));\n    };\n\n    // Begin retrieving microphone data.\n    this.microphone.connect(this.processor);\n    this.processor.connect(this.context.destination);\n  }\n\n  /**\n   * Disconnect microphone, processor and remove activeStream\n   */\n  stop() {\n    if (this.processor && this.microphone) {\n      // Clean up the Web Audio API resources.\n      this.microphone.disconnect();\n      this.processor.disconnect();\n\n      // If all references using this.context are destroyed, context is closed\n      // automatically. DOMException is fired when trying to close again\n      if (this.context && this.context.state !== 'closed') {\n        this.context.close();\n      }\n\n      this.processor.onaudioprocess = null;\n\n      // Stop all audio tracks. Also, removes recording icon from chrome tab\n      this.activeStream.getAudioTracks().forEach((track) => track.stop());\n    }\n\n    return this;\n  }\n\n  /**\n   * Requests access to the microphone and start recording\n   * @return Promise\n   */\n  start() {\n    const AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;\n    this.context = new AudioContext();\n    this.config.sampleRate = this.context.sampleRate;\n    this.lameEncoder = new Encoder(this.config);\n\n    const audio = this.config.deviceId\n      ? { deviceId: { exact: this.config.deviceId } }\n      : true;\n\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices\n        .getUserMedia({ audio })\n        .then((stream) => {\n          this.addMicrophoneListener(stream);\n          resolve(stream);\n        })\n        .catch(function(err) {\n          reject(err);\n        });\n    });\n  }\n\n  /**\n   * Return Mp3 Buffer and Blob with type mp3\n   * @return {Promise}\n   */\n  getMp3() {\n    const finalBuffer = this.lameEncoder.finish();\n\n    return new Promise((resolve, reject) => {\n      if (finalBuffer.length === 0) {\n        reject(new Error('No buffer to send'));\n      } else {\n        resolve([finalBuffer, new Blob(finalBuffer, { type: 'audio/mp3' })]);\n        this.lameEncoder.clearBuffer();\n      }\n    });\n  }\n}\n\nexport default MicRecorder;\n","import React from 'react';\nimport MicRecorder from './MicRecorder';\nimport MicIcon from '@material-ui/icons/MicRounded';\nimport { withStyles } from '@material-ui/styles';\nimport IconButton from '@material-ui/core/IconButton';\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst styles = (theme) => ({\n  root: {\n    color: 'white',\n    backgroundColor: 'rgb(245, 0, 87)',\n    width: '56px',\n    height: '56px',\n    padding: '0',\n    minWidth: 0,\n    borderRadius: '50%',\n  },\n});\n\nclass AudioRecorderButton extends React.Component {\n  constructor(props) {\n    super(props);\n    window.URL = window.URL || window.webkitURL;\n  }\n\n  start = () => {\n    Mp3Recorder.start()\n      .then(() => {})\n      .catch((e) => console.error(e));\n  };\n\n  stop = () => {\n    Mp3Recorder.stop()\n      .getMp3()\n      .then(([buffer, blob]) => {\n        this.props.finishRecording(blob);\n      })\n      .catch((e) => console.log(e));\n  };\n\n  onRecordMouseDown = () => {\n    if (!this.props.recording) {\n      this.start();\n    }\n    this.props.changeRecordState();\n  };\n\n  onRecordMouseUp = () => {\n    this.stop();\n    this.props.changeRecordState();\n  };\n\n  componentDidMount() {\n    navigator.mediaDevices.getUserMedia(\n      { audio: true },\n      () => {\n        console.log('Permission Granted');\n      },\n      () => {\n        console.log('Permission Denied');\n        this.props.recordingDenied();\n      }\n    );\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <IconButton\n          classes={{\n            root: classes.root,\n          }}\n          onMouseDown={this.onRecordMouseDown}\n          onMouseUp={this.onRecordMouseUp}\n          aria-label='Record'\n          size='medium'>\n          <MicIcon />\n        </IconButton>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(AudioRecorderButton);\n","import { connect } from 'react-redux';\nimport {\n  changeRecordState,\n  recordingDenied,\n  finishRecording,\n} from '../actions';\nimport AudioRecorder from '../components/AudioRecorderButton';\n\nconst mapStateToProps = (state) => ({\n  recording: state.audio.recording,\n  disableButton: state.audio.recording || state.audio.permissionDenied,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  changeRecordState: () => dispatch(changeRecordState()),\n  recordingDenied: () => dispatch(recordingDenied()),\n  finishRecording: (blob) => dispatch(finishRecording(blob)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AudioRecorder);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './Root';\nimport AppContainer from './containers/AppContainer';\nimport './index.css';\nimport Container from '@material-ui/core/Container';\nimport AppBarContainer from './containers/AppBarContainer';\nimport BottomNavigation from './components/BottomNav';\nReactDOM.render(\n  <Root>\n    <AppBarContainer />\n    <Container maxWidth={false} disableGutters={true}>\n      <AppContainer />\n    </Container>\n    <BottomNavigation />\n  </Root>,\n\n  document.getElementById('root')\n);\n","import React from 'react';\nimport AudioRecorderContainer from '../containers/AudioRecorderContainer';\n\nexport default () => {\n  return (\n    <div id='bottomBar'>\n      <div id='recordButton'>\n        <AudioRecorderContainer />\n      </div>\n    </div>\n  );\n};\n"],"sourceRoot":""}